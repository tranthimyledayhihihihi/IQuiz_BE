@{
    ViewBag.Title = "Tạo phòng đấu trường";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="game-container">
    <h2 class="text-white mb-4">Tạo phòng đấu trường</h2>

    <button id="btnCreateRoom" class="btn-play-big">
        <i class="fa-solid fa-plus me-2"></i> Tạo phòng
    </button>

    <div id="createResult" class="mt-4 text-white fs-5" style="display:none;">
        <p>Mã phòng của bạn: <span id="roomCode" class="fw-bold"></span></p>
        <p>Hãy gửi mã này cho bạn bè để cùng tham gia!</p>
    </div>
</div>

@section Scripts {
    <script>
    $(function () {
        $("#btnCreateRoom").on("click", function () {
            $.ajax({
                url: "@Url.Action("CreateRoom", "Arena")",
                type: "POST",
                success: function (res) {
                    // res: JSON từ BE
                    var code = res.code || res.roomCode || "";
                    $("#roomCode").text(code);
                    $("#createResult").show();
                },
                error: function (xhr) {
                    alert("Tạo phòng thất bại: " + xhr.responseText);
                }
            });
        });
    });
    </script>
}
