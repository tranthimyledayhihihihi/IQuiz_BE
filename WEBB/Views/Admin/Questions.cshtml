@{
    ViewBag.Title = "Quản lý Câu hỏi";
}

<h2>Quản lý Câu hỏi</h2>
<p>(Bạn có thể thêm nút "Thêm Câu hỏi" và Modal giống như trang Chủ đề)</p>

<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>ID</th>
            <th>Nội dung</th>
            <th>Chủ đề</th>
            <th>Độ khó</th>
            <th>Đáp án đúng</th>
            <th>Hành động</th>
        </tr>
    </thead>
    <tbody id="questions-table-body">
    </tbody>
</table>

@section Scripts {
    <script>
    $(document).ready(function () {
        var apiBaseUrl = "https://localhost:7092";
        var token = localStorage.getItem("jwtToken");
        function getApiHeaders() { /* ... (Copy hàm) ... */ }
        function handleApiError(jqXHR) { /* ... (Copy hàm) ... */ }

        function loadQuestions() {
            $.ajax({
                url: apiBaseUrl + "/api/QLCauHoi", // API Lấy Câu hỏi
                type: "GET",
                headers: getApiHeaders(),
                success: function (response) {
                    var $tableBody = $("#questions-table-body");
                    $tableBody.empty();

                    $.each(response.data, function (i, q) {
                        var row = '<tr>' +
                            '<td>' + q.cauHoiID + '</td>' +
                            '<td>' + q.noiDung + '</td>' +
                            '<td>' + q.tenChuDe + '</td>' +
                            '<td>' + q.tenDoKho + '</td>' +
                            '<td>' + q.dapAnDung + '</td>' +
                            '<td>' +
                                '<button class="btn btn-sm btn-info" data-id="' + q.cauHoiID + '">Sửa</button> ' +
                                '<button class="btn btn-sm btn-danger" data-id="' + q.cauHoiID + '">Xóa</button>' +
                            '</td>' +
                            '</tr>';
                        $tableBody.append(row);
                    });
                },
                error: handleApiError
            });
        }

        if (!token) { /* ... (Copy logic kiểm tra token) ... */ }
        loadQuestions();
    });
    </script>
}